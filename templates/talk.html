<!DOCTYPE html>

<meta charset="utf-8">
<title>$title$</title>
<link href="/css/talk.css" rel="stylesheet" type="text/css"></link>

<section id="title" class="inverse">
  <div class="middle center">
    <div class="title">$title$</div>
  $if(subtitle)$
    <div class="subtitle">$subtitle$</div>
  $endif$
    <div class="author">$author$</div>
  </div>
  <div class="date">$date$</div>
</section>

$body$

<div id="progress-bar"></div>

<script src="/scripts/dzslides.js"></script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?delayStartupUntil=configured"></script>
<script>
  // Setup MathJax
  MathJax.Hub.Config({
    config: ["MMLorHTML.js"],
    jax: ["input/AsciiMath","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
    extensions: ["asciimath2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "[Contrib]/a11y/accessibility-menu.js"],
    asciimath2jax: {
      delimiters: [['\\(', '\\)'], ['\\[', '\\]']],
      processClass: ['math']
    },
    AsciiMath: {
      displaystyle: false
    }
  });

  //MathJax.Hub.Register.LoadHook("[MathJax]/extensions/asciimath2jax.js", function () {
  //  var AM = MathJax.Extension.asciimath2jax, CREATEPATTERNS = AM.createPatterns;
  //  AM.createPatterns = function () {
  //      var result = CREATEPATTERNS.call(this);
  //      this.match['$$'].mode = ";mode=display";
  //      return result;
  //  };
  //});

  //MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  //  var AM = MathJax.InputJax.AsciiMath;
  //  AM.postfilterHooks.Add(function (data) {
  //      if (data.script.type.match(/;mode=display/)) {
  //      data.math.root.display = "block"}
  //      return data;
  //  });
  //});

  MathJax.Hub.Configured()
</script>
